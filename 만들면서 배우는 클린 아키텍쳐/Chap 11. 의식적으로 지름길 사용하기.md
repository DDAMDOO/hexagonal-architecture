# Chap 11. 의식적으로 지름길 사용하기



### 왜 지름길은 깨진 창문 같을까?

> 어떤 것이 멈춘 것처럼 보이고, 망가져 보이고 혹은 관리되지 않는다고 여겨지면 인간의 뇌는 이를 더 멈추고, 망가뜨려도 된다고 생각하게 된다.

이러한 깨진 창문 이론은 코드에도 그대로 적용된다.

* 품질이 떨어진 코드에서 작업할 때 더 낮은 품질의 코드를 추가하기 쉽다.
* 코딩 규칙을 많이 어긴 코드에서 작업할 때 또 다른 규칙을 어기기도 쉽다.
* 지름길을 많이 사용한 코드에서 작업할 때 또 다른 지름길을 추가하기도 쉽다.



### 깨끗한 상태로 시작할 책임

소프트웨어 프로젝트는 대개 큰 비용이 들고 장기적인 노력을 필요로 하기 때문에 깨진 창문을 막는 것이 소프트웨어 개발자들이 아주 막대한 책임이다.

때로는 작업중인 부분이 그리 중요하지 않거나 경제적인 이유로 지름길을 택하는 것이 더 실용적일 때도 있다. 이러한 의도적인 지름길에 대해서는 세심하게 기록해두어야 깨진 창문 이론의 영향을 줄일 수 있다.



### 유스케이스 간 모델 공유하기

유스케이스 간 입출력 모델을 공유하는 것은 유슈케이스들이 기능적으로 묶였을 때, 즉 특정 요구사항을 공유할 때 괜찮다. 이 경우 특정 세부사항을 변경할 경우 실제로 두 유스케이스 모두에 영향을 주고 싶은 것이다.

두 유스케이스가 서로 간에 미치는 영향 없이 독립적인 노선을 타야 한다면 입출력 모델을 공유하는 것은 지름길이 된다.



### 도메인 엔티티를 입출력 모델로 사용하기

간단한 생성이나 업데이트 유스케이스에서는 유스케이스 인터페이스에 도메인 엔티티가 있는 것이 괜찮을 수 있지만 복잡한 도메인 로직을 구현해야 하는 경우에는 전용 입출력 모델을 만들어야 한다. 왜냐하면 유스케이스의 변경이 도메인 엔티티까지 전달될 수 있기 때문이다.

이 지름길은 간단한 생성 또는 업데이트 유스케이스로 시작해서 나중에는 복잡한 도메인 로직 괴물이 될 수 있다.



### 인커밍 포트 건너뛰기

어플리케이션 규모가 작거나 인커밍 어댑터가 하나일 때는 모든 제어의 흐름을 인커밍 포트의 도움 없이 파악할 수 있어 인커밍 포트가 없는 것이 편하다. 하지만 규모가 확장될 가능성은 언제나 있기 때문에 인커밍 포트를 건너뛰는 것은 좋지 못하다.



### 애플리케이션 서비스 건너뛰기

단순한 보일러플레이트 코드가 가득한 서비스가 많아지는걸 방지하기 위한 간단한 CRUD 케이스는 서비스 건너뛰기를 할 수 있지만 유스케이스가 엔티티를 단순히 CRUD하는 것 이외의 일을 하게 되면 서비스를 만드는 가이드라인이 확실히 있어야 한다.



### 유지보수 가능한 소프트웨어를 만드는 데 어떻게 도움이 될까?

아키텍처에 대해, 그리고 왜 특정 지름길을 선택했는지에 대해 문서화해두면 나중에 프로젝트를 인계받는 사람들이 이 결정에 대해 다시 평가할 수 있다.

